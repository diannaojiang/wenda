(function(){"use strict";var __webpack_modules__={9643:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7658),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__);__webpack_exports__["Z"]={data(){return{_golden_tax_url:"",_synthesisUtterance:null,window:window,"语音输入":!1,"语音播报":!1,question:"",chat:JSON.parse(localStorage["wenda_chat_history"]||"[]"),history_on:!1,history_limit:5,func_menu:[],current_func:"",zsk_libraryStategy:"",zsk_maxItmes:5,zsk_summarize_prompt:"总结以下文段中与问题相关的信息。",zsk_answer_prompt:"学习以下文段,用中文回答问题。",func_mode:{name:"",description:"input_question",question:""},plugins:[],buttons:[],autos:[],simplify_historical_information:!1,tts_on:!1,sst_started:!1,test_zsk_prompt:"",zsk_step:2,zhishiku:[],setting:{},tab:0,temperature:.8,max_length:2048,top_p:.8,llm_type:"",tabs:["chat","zhishiku","setting"],snackbar:!1,snackbar_text:"",loading:!1,drawer:!1,show_header:!0,color:"#0077F1",autos_search:""}},computed:{filteredFuncMenu(){return this.func_menu.filter((t=>t.name&&!window._hidden_func_in_menus.includes(t.name)))}},created(){window.app=this},beforeDestroy(){window.app=null,speechSynthesis},mounted(){const{_golden_tax_url:t,_autos_js_loaded:e}=this.$util.getAppSettings();this._golden_tax_url=t,this.dynamicLoadScript("/api/llm").then((()=>{this.loadAutoJSFuctions(e).then((async()=>{this.func_menu=window.func}))}))},watch:{current_func(t){this.func_mode=this.func_menu.find((e=>e.name===t))},tab(t){t>2&&!0===this.plugins[t-3].hide_title?this.show_header=!1:this.show_header=!0}},methods:{getMenuIcon(t){if(t.icon)return`mdi-${t.icon}`;const e=window._menu_icon_func[t.name];return e?`mdi-${e}`:"mdi-clock"},async load_plugins(){window.disabled_auto=JSON.parse(localStorage["wenda_disabled_auto"]||"{}");let server_auto=await fetch("/api/plugins");server_auto=await server_auto.json(),server_auto.forEach((plugin=>{const name=window.get_auto_name(plugin),auto={name:name,description:window.get_auto_description(plugin),content:plugin.content,disabled:window.get_auto_disabled(plugin,name)};this.autos.push(auto),setTimeout((()=>{auto.disabled||eval(plugin.content)}),0)})),window.saved_auto=JSON.parse(localStorage["wenda_saved_auto"]||"[]"),window.saved_auto.forEach((auto=>{this.autos.push(auto),setTimeout((()=>{auto.disabled||eval(auto.content)}),0)}))},saveSettingAutos(){const t={};this.autos.forEach((e=>{t[e.name]=e.disabled})),window.localStorage["wenda_disabled_auto"]=JSON.stringify(t)},clear_history(){this.chat=[],this.save_history(),this.cancel_speaking()},cancel_speaking(){speechSynthesis.speaking&&("function"===typeof speechSynthesis.cancel?speechSynthesis.cancel():speechSynthesis.stop())},speak(t,e){this._synthesisUtterance||(this._synthesisUtterance=new SpeechSynthesisUtterance),this._synthesisUtterance.rate=1,this._synthesisUtterance.pitch=10,this._synthesisUtterance.text=t,this._synthesisUtterance.volume=1,e&&Object.assign(this._synthesisUtterance,e),speechSynthesis.speak(this._synthesisUtterance)},onQuestionChanged(t){this.question=t,window.submit()},save_history(){localStorage["wenda_chat_history"]=JSON.stringify(this.chat)},resetConversitionMode(t){this.current_func=t||""},alert(t){this.snackbar_text=t,this.snackbar=!0},dynamicLoadScript(t){return new Promise(((e,n)=>{const o=document.createElement("script");o.src=t,o.type="text/javascript",o.onload=function(){e()},o.onerror=function(e){console.error(e),n(new Error("Failed to load "+t))},document.body.appendChild(o)}))},loadAutoJSFuctions(t){return Promise.all(t.map((t=>this.dynamicLoadScript(`/autos/${t}.js`))))},scrollToBottom(){this.$nextTick((()=>{window.scrollTo(0,document.body.scrollHeight)}))},loopPrintWords(t,e,n,o){t.content=`#### ${e}: \n`,this.chat.push(t);const i=n;if(o){const e=(t.content+i).replace(/[#\s]*/,"");this.cancel_speaking(),this.speak(e,{rate:1,pitch:1})}let r=0;const a=setInterval((()=>{r<i.length?(t.content+=i[r],"\n"===i[r]&&this.scrollToBottom(),r++):clearInterval(a)}),100)}}}},1458:function(t,e,n){var o=n(144),i=n(998),r=n(9223),a=n(4324),s=n(5808),c=n(4525),l=n(2177),_=n(4611),u=n(5137),p=n(9258),d=n(626),h=n(2165),m=n(8263),f=n(3736),g=n(1475),b=function(){var t=this,e=t._self._c;return e(i.Z,[e(u.Z,{staticStyle:{height:"100%",position:"fixed"},attrs:{width:"250",temporary:"",dark:"",color:"#004EA2"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e(s.Z,[e(c.Z,[e(l.km,[e(l.V9,{staticClass:"text-h6",attrs:{color:"#eee"}},[t._v(" 流程 ")]),e("br")],1)],1),e(r.Z),t._l(t.filteredFuncMenu,(function(n,o){return e(c.Z,{key:o,on:{click:function(e){return e.stopPropagation(),t.window.load_func(n)}}},[e(_.Z,[e(a.Z,{attrs:{size:"24"}},[t._v(" "+t._s(t.getMenuIcon(n))+" ")])],1),e(l.V9,[t._v(" "+t._s(n.name)+" ")])],1)}))],2)],1),t.show_header?e("top-bar",{on:{"show-menu":function(e){t.drawer=!t.drawer}}}):t._e(),e(f.Z,{staticStyle:{"margin-top":"4em"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("tabitem-chat",{attrs:{question:t.question,chats:t.chat,loading:t.loading,"voice-inputing":t.sst_started,ttson:t.tts_on,historyon:t.history_on,"voice-enable":t.语音输入,"conversition-mode":t.func_mode,buttons:t.buttons,"crnt-func":t.current_func},on:{"toggle-ttson":function(e){t.tts_on=!t.tts_on},"toggle-historyon":function(e){t.history_on=!t.history_on},"clear-history":t.clear_history,"crntfunc-changed":t.resetConversitionMode,"question-changed":t.onQuestionChanged}}),e("tabitem-setting",{attrs:{"default-color":t.color,"max-length":t.max_length,"prop-temperature":t.temperature,"top-p":t.top_p,"simplify-historical-information":t.simplify_historical_information,"history-limit":t.history_limit},on:{"max_length-changed":e=>t.max_length=e,"temperature-changed":e=>t.temperature=e,"top_p-changed":e=>t.top_p=e,"simplify_historical_information-changed":e=>t.simplify_historical_information=e,"history_limit-changed":e=>t.history_limit=e}}),t._l(t.plugins,(function(t){return e(h.Z,{key:t.name},[e("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{frameborder:"0",src:t.url+"?time="+(new Date).getTime()}})])}))],2),e(m.Z,{staticStyle:{"background-color":"#004EA2"},attrs:{dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(g.Z,{attrs:{color:"#004EA2"}}),e(d.Z,{key:"chat"},[e(a.Z,{attrs:{text:""}},[t._v(" mdi-tooltip-edit-outline ")])],1),e(d.Z,{key:"setting"},[e(a.Z,{attrs:{text:""}},[t._v(" mdi-cog ")])],1),t._l(t.plugins,(function(n){return e(d.Z,{key:n.name},[n.icon?e(a.Z,{attrs:{text:""}},[t._v(" "+t._s("mdi-"+n.icon)+" ")]):t._e(),t._v(t._s(n.name)+" ")],1)}))],2),e("br"),e("br"),e("br"),e(p.Z,{staticStyle:{"white-space":"pre-line"},attrs:{timeout:3e3,dark:"",color:"#0077F1"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbar_text)+" ")])],1)},y=[],w=n(9643),v=n(5550),k=n(6313),x=n(7953),A=function(){var t=this,e=t._self._c;return e(k.Z,{attrs:{float:"",dark:"",height:"60"}},[e(v.Z,{on:{click:function(e){return t.$emit("show-menu")}}}),e("img",{staticStyle:{width:"40px",height:"24px",margin:"14px"},attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAAApCAYAAABupZRPAAAABGdBTUEAALGOfPtRkwAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAQ6ADAAQAAAABAAAAKQAAAACB6QwIAAAFVUlEQVRoBe2Z7XHbOBCG7Zv7H10FYQfWVRC4gigVWK7ASgWmK0hSgZUK7FQgpgKrA/EqCDvIPS+FlSEIlEiKnmSs7MzL/cB+AEsQpOzzn9DZ66fi/Pz88tAy/zrkcFLj2hlQ3mfRxGXAgVGf+DBGOcA4tJmM/QE409tyxQDRolXM2rd3M1Y+Xrx3Q4hVU5+AKAsnjj6preuLC8cOyYR0akbvx0SFmEzmJyQ+w1brcN3lqbgfTzLGFaMzawVsV6gpCzDxQVdBsAvkwcW/22RkYjl+F6ACGRC5+vp8uUW8xffZcnZ2g37J4aW4FL1PGEfYHPhOrOQJMHpjwotwCoryfcnXLr2vrik3GfUIrILMOhtyoF21ACnSzhk35Qzt+L3IY1KGRRpk+RTRWIW+jGyhWqDIRyQ+Adot2oUOGJUI114ZwzMvD8t86/N9WfHRnTL6gaAzYWwGz51yIC8Cey5bE+G3CnyVdx+tgsFZU87Qjv+L7IzHoMgIOTkZFWcsA0aFCQ08C+zKG1KBUgaGDLkCd5xBnwP7YGKrt4k/AMugqg7Lp0CX6MACZMBobEIDL7DPwQdQAiMt+BLlqxngsv0D8sA2qNiqGb5iFlUuIz2l6k7uozsGteCRh/mW7LIpyo0ZJPudF5iGFVu9Wn3JEp4F8kfkB6+LxVv3LbbHYHxLZGEzDJ+2jM/K/bO4kdSwBXEf2R1xrY3TMUKXZvxLoTGomMxSRZmYWE3YKoR8rQ161e4pgTXoE3W1Y7Sj1PBv1H6EH08kFuV9Mq1D19eu8URlYAH0FapTfwWMHrywsrzoakKKnPnEHGflFS3isaS+9u3djJWP/5lM3sFIntxywfUx9gNoJ24IfQFCetoMJgQcOzWjywGaKLd5AxSpwZ42/e3hEejNUT+OQR69deZe16Nx6eVB2LHN+O5nEU+6z+RKH2Q5d3LQHJ1X10D0AVQ7TkcYuhygqTIFRuHoZrCwOdv6TJx8v4SOagYTL4ac9a9shNZhzbjirrwbcmG/Sa5Rl3lYMzKChJOmYw/QV9W8P80IbuefZgTNsDMjMPUWSyKFQ5ThIPQhvcLbfFuM8et0eNaT4S0SU9MvyZ3JE3jvg/OdwQYD/k8+xphLuTI4NQfPZym/2Iav/gqnT/mQWv02Se2ML2RRVw8Vf4PP1E+mECcuF99Dbxkbh+P2rUJshn0K9DlewEuwIWyfW87rgiDNvztRYIuUAYPbMh5W5N81xrI6X9PuaH0TGJyZg7j3mYa2DnLvnaG6fagkqDgQ6KLx0nTufMXirtH1U/09fGsHYdPdrkABmkg+W3FNjkl73F05Yet6l/Nk8shIXrvbeqYnNoysXaGFqLaakaKp+e/jBOaJ4FY741yBYXLukGwOW6sEQWwRyLFYYdCf60pfb458jawGzMAN0Fmhn+hqiBOHNH7vufRClwYqfU7HeDx35b5siHs2a3IhaQTdhbaBZOdzK13uZdspVmIquxHGJxtowxWHX2rucXOsxBbfeZuQTHejBHdbnmnFnu2K4S9pl4116XPLoBNfNAeqZ7Q0Ad8MeWw6vARfA314kaIxzdpUIUjPuZ59Ud4yxnaC4sImbMKxT0DdBLj5I9b/Otj4NQn45XKOqNXO2DkzfJESLuwjLaaeNHwJqn3OfsxFPkWkS3VAuZRT5Orr/vPCu9S7bGxKwLfODBo1Y0y7WqRad5wpy6Zm1F6v6LJpBo2YsC414j+/vgJ+qwP2FH+oXbHwaxqghizBDfhGk9wpNmPE4kXidSNqjcspPiZT1n3hG6A3Zv0do8dEzcj9wGtm+iCb2wL9mt+hV952x/jyfzyzGJkT7SuQAAAAAElFTkSuQmCC"}}),e(x.qW,[e("a",{staticStyle:{"text-decoration":"none",color:"white"},attrs:{href:"#"}},[t._v(t._s(t.$t("wenda")))])])],1)},Z=[],S={name:"TopBar"},q=S,C=n(1001),L=(0,C.Z)(q,A,Z,!1,null,null,null),O=L.exports,I=n(3423),z=n(4562),F=n(4127),M=n(266),E=n(7394),T=n(8271),P=n(8224),j=n(1713),B=n(2648),Q=n(1786),$=function(){var t=this,e=t._self._c;return e(h.Z,{key:"chat",staticStyle:{"padding-bottom":"136px"}},["金小税"===t.func_mode.name?e("div",{class:["d-flex flex-row align-center my-2"]},[e(I.Z,{attrs:{size:"64px"}},[e(a.Z,{attrs:{size:"50",color:"#0077F1"}},[t._v(" mdi-robot-happy-outline ")])],1),e("span",{staticClass:"answer"},[t._v(" 您好，很高兴为您服务，请问有什么可以帮助您？ ")])],1):t._e(),"金小税"===t.func_mode.name?e("div",{staticClass:"golden-tax-faqs"},[e("p",{staticClass:"mdi-question"},[e("span",{staticClass:"mdi mdi-chat-question",staticStyle:{color:"#007aff","margin-right":"16px","font-size":"28px"}}),e("span",{staticStyle:{"line-height":"32px","vertical-align":"6px"}},[t._v("猜你想问")])]),e("ul",t._l(t.window.app.golden_tax_faqs,(function(n,o){return e("li",{key:o,on:{click:function(e){return t.askFaq(n)}}},[t._v(" "+t._s(n)+" ")])})),0)]):t._e(),t._l(t.chatList,(function(n,o){return e("div",{key:o,class:["d-flex flex-row align-center my-2","user"==n.role?"justify-end":null]},["user"===n.role?e("span",{staticClass:"ask",attrs:{autofocus:""},domProps:{textContent:t._s(n.content)}}):t._e(),e(P.Z,{scopedSlots:t._u([{key:"default",fn:function({hover:o}){return[e("div",[e(I.Z,{staticClass:"头像",class:"user"===n.role?"user-avatar":"bot-avatar",attrs:{size:"80"}},["user"===n.role?e(a.Z,{attrs:{size:"50",color:"#0077F1"}},[t._v(" mdi-face-agent ")]):e(a.Z,{attrs:{size:"50",color:"#0077F1"}},[t._v(" mdi-robot-happy-outline ")])],1),e("br"),e(E.Fx,[o?e("div",{staticClass:"float"},[t.isLoading?t._e():e(a.Z,{attrs:{size:"32px",text:""},on:{click:function(e){return t.window.delete_current_conversation(n)}}},[t._v(" mdi-delete ")]),e(a.Z,{attrs:{size:"32px",text:""},on:{click:function(e){return t.window.copy(n.content)}}},[t._v(" mdi-content-copy ")])],1):t._e()])],1)]}}],null,!0)}),"user"!==n.role?e("span",{staticClass:"answer"},[e("div",{domProps:{innerHTML:t._s(t.md2html(n.content))}}),t._l(n.sources,(function(n,o){return e(Q.Z,{key:o,staticStyle:{"margin-top":"10px"},attrs:{bottom:"","max-width":500},scopedSlots:t._u([{key:"activator",fn:function({on:o,attrs:i}){return[e("div",t._g(t._b({staticStyle:{margin:"3px"}},"div",i,!1),o),[e(z.Z,{staticStyle:{"margin-top":"0px","max-width":"-webkit-fill-available","overflow-x":"hidden"},attrs:{outlined:"",color:"#0077F1",rounded:"","x-small":""},on:{click:function(e){n.url?t.window.open(n.url,"_blank"):n.click()}}},[e("span",{staticClass:"d-inline-block text-truncate",staticStyle:{"max-width":"150px"}},[t._v(" "+t._s(n.title)+" ")])])],1)]}}],null,!0)},[e("span",{domProps:{innerHTML:t._s(n.content)}})])}))],2):t._e()],1)})),e(T.Z,{staticClass:"pr-0",attrs:{fixed:""}},[e("div",{staticClass:"chat_toolbar"},[t._l(t.buttons,(function(n,o){return e(Q.Z,{key:o,attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:o,attrs:i}){return[e("div",t._g(t._b({},"div",i,!1),o),[e(a.Z,{attrs:{color:n.color(),text:""},on:{click:n.click}},[t._v(" mdi-"+t._s(n.icon)+" ")])],1)]}}],null,!0)},[e("span",[t._v(t._s(n.description))])])})),t._v(" "+t._s(t.buttons.length>0?"|":"")+" "),e(Q.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:o}){return[e("div",t._g(t._b({},"div",o,!1),n),[e(a.Z,{attrs:{color:"知识库"==t.current_func?t.color:"",text:""},on:{click:function(e){return t.$emit("crntfunc-changed","知识库"==t.current_func?"":"知识库")}}},[t._v(" mdi-book-open-variant ")])],1)]}}])},[e("span",[t._v(t._s(t.$t("zhishiku")))])]),e(Q.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:o}){return[e("div",t._g(t._b({},"div",o,!1),n),[e(a.Z,{attrs:{color:"快速知识库"==t.current_func?t.color:"",text:""},on:{click:function(e){return t.$emit("crntfunc-changed","快速知识库"==t.current_func?"":"快速知识库")}}},[t._v(" mdi-lightning-bolt ")])],1)]}}])},[e("span",[t._v(t._s(t.$t("zhishiku"))+"快速模式")])]),t._v(" | "),e(Q.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:o}){return[e("div",t._g(t._b({},"div",o,!1),n),[e(a.Z,{attrs:{color:t.sst_started?t.color:"",text:""},on:{click:function(e){t.sst_started?t.window.stop_listen():t.window.listen()}}},[t._v(" mdi-microphone ")])],1)]}}])},[e("span",[t._v("语音输入")])]),e(Q.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:o}){return[e("div",t._g(t._b({},"div",o,!1),n),[e(a.Z,{attrs:{color:t.tts_on?t.color:"",text:""},on:{click:function(e){return t.$emit("toggle-ttson")}}},[t._v(" mdi-headset ")])],1)]}}])},[e("span",[t._v("阅读文本")])]),t._v(" | "),e(Q.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:o}){return[e("div",t._g(t._b({},"div",o,!1),n),[e(a.Z,{attrs:{color:t.history_on?t.color:"",text:""},on:{click:function(e){return t.$emit("toggle-historyon")}}},[t._v(" mdi-history ")])],1)]}}])},[e("span",[t._v(t._s(t.$t("history")))])]),!t.isLoading&&t.chatList.length>0?e(Q.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:o}){return[e(a.Z,t._g(t._b({attrs:{color:t.color},on:{click:function(e){return t.window.re_generate()}}},"v-icon",o,!1),n),[t._v(" mdi-refresh ")])]}}],null,!1,114225003)},[e("span",[t._v(t._s(t.$t("re_generate")))])]):t._e(),e(Q.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:o}){return[e("div",t._g(t._b({},"div",o,!1),n),[e(a.Z,{attrs:{color:t.color,text:""},on:{click:function(e){return t.$emit("clear-history")}}},[t._v(" mdi-delete-clock-outline ")])],1)]}}])},[e("span",[t._v(t._s(t.$t("clear_history")))])])],2),e(j.Z,{attrs:{"no-gutters":""}},[e(M.Z,{attrs:{cols:"8",md:"11"}},[e(B.Z,{attrs:{"hide-details":"","no-resize":"",rows:"3",loading:t.isLoading,placeholder:t.$t(t.func_mode.description)},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitQuestion.apply(null,arguments)}},model:{value:t.input_question,callback:function(e){t.input_question=e},expression:"input_question"}})],1),e(M.Z,{attrs:{cols:"4",md:"1"}},[e("div",{staticStyle:{"text-align":"center"}},[t.isLoading?e(z.Z,{staticStyle:{"margin-bottom":"10px"},attrs:{color:t.color,rounded:"",dark:"",size:"x-large"},on:{click:function(e){return t.window.abort_chatting()}}},[t._v(" "+t._s(t.$t("abord"))+" ")]):t._e(),t.isLoading?t._e():e(z.Z,{staticStyle:{"margin-bottom":"10px"},attrs:{color:t.color,rounded:"",dark:"",size:"x-large"},on:{click:t.submitQuestion}},[t._v(" "+t._s(t.$t("send"))+" ")]),e("br"),e(E.Fx,[""!=t.func_mode.name?e(F.Z,{attrs:{color:t.color,outlined:"",close:""},on:{"click:close":function(e){return t.$emit("crntfunc-changed","")}}},[e("span",{staticClass:"d-inline-block text-truncate",staticStyle:{"max-width":"120px"}},[t._v(" "+t._s(t.func_mode.name)+" ")])]):t._e()],1)],1)])],1)],1)],2)},N=[],U=n(3293),R=n.n(U),W=n(9980),G=n.n(W),H={name:"TabItemChat",props:{chats:{type:Array,default:()=>[]},crntFunc:{type:String,default:""},defaultColor:{type:String,default:"#0077F1"},buttons:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},question:{type:String,default:""},voiceInputing:{type:Boolean,default:!1},ttson:{type:Boolean,default:!1},historyon:{type:Boolean,default:!1},voiceEnable:{type:Boolean,default:!1},conversitionMode:{type:Object,default:null}},data(){return{window:window,chatList:[],input_question:"",func_mode:{name:"",description:"input_question",question:""},waveIndicator:null}},computed:{color(){return this.defaultColor},current_func(){return this.$props.crntFunc},isLoading:{get(){return this.loading},set(t){}},"语音输入":{get(){return this.voiceEnable},set(t){}},sst_started:{get(){return this.voiceInputing},set(t){}},tts_on(){return this.ttson},history_on(){return this.historyon}},watch:{"$props.conversitionMode":{handler(t){this.func_mode={...t}},deep:!0},"$props.question":{handler(t){this.input_question=t}},"$props.chats":{handler(t){this.chatList=[...t]},deep:!0}},created(){this.chatList=this.chats,this.input_question=this.question,this.语音输入=this.voiceEnable,this.sst_started=this.voiceInputing,this.func_mode={...this.conversitionMode}},methods:{askFaq(t){this.isLoading||this.$emit("question-changed",t)},md2html:t=>{t=String(t);const e=new(G());return e.render(t).replace(/<a /g,'<a target="_blank"').replace(/[\r\n]+!$/g,"<br>")},submitQuestion(){this.isLoading||this.$emit("question-changed",this.input_question)},switchSiriWave(t){t?this.waveIndicator?this.waveIndicator.start():this.waveIndicator=new(R())({container:document.querySelector("#siri-container"),color:"#4caf50",width:200,height:30,speed:.1,amplitude:1}):this.waveIndicator.stop()}}},D=H,J=(0,C.Z)(D,$,N,!1,null,"3f1ba685",null),K=J.exports,Y=n(9582),X=n(4886),V=n(5125),tt=n(7414),et=n(1023),nt=n(1357),ot=function(){var t=this,e=t._self._c;return e(h.Z,{key:"setting",staticClass:"tab-setting-container"},[e(Y.Z,{attrs:{elevation:"2"}},[e(X.EB,[t._v("模型运行参数")]),e(r.Z),e(X.ZB,[e("br"),e(V.Z,[e(tt.Z,{attrs:{min:1e3,max:4e3,step:10,"thumb-color":t.color,label:"max_length","thumb-label":""},on:{change:e=>t.$emit("max_length-changed",e)},scopedSlots:t._u([{key:"append",fn:function(){return[e(nt.Z,{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{type:"number"},on:{change:e=>t.$emit("max_length-changed",e)},model:{value:t.max_length,callback:function(e){t.max_length=e},expression:"max_length"}})]},proxy:!0}]),model:{value:t.max_length,callback:function(e){t.max_length=e},expression:"max_length"}}),e(tt.Z,{attrs:{min:0,max:2,step:.1,"thumb-color":t.color,label:"temperature","thumb-label":""},on:{change:e=>t.$emit("temperature-changed",e)},scopedSlots:t._u([{key:"append",fn:function(){return[e(nt.Z,{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{type:"number"},on:{change:e=>t.$emit("temperature-changed",e)},model:{value:t.temperature,callback:function(e){t.temperature=e},expression:"temperature"}})]},proxy:!0}]),model:{value:t.temperature,callback:function(e){t.temperature=e},expression:"temperature"}}),e(tt.Z,{attrs:{min:0,max:1,step:.1,"thumb-color":t.color,label:"top_p","thumb-label":""},on:{change:e=>t.$emit("top_p-changed",e)},scopedSlots:t._u([{key:"append",fn:function(){return[e(nt.Z,{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{type:"number"},on:{change:e=>t.$emit("top_p-changed",e)},model:{value:t.top_p,callback:function(e){t.top_p=e},expression:"top_p"}})]},proxy:!0}]),model:{value:t.top_p,callback:function(e){t.top_p=e},expression:"top_p"}}),e(j.Z,[e(M.Z,{attrs:{cols:"12",sm:"2"}},[e(et.Z,{attrs:{"hide-details":"",label:t.$t("simplify_historical_information"),color:t.color,inset:""},on:{change:e=>t.$emit("simplify_historical_information-changed",e)},model:{value:t.simplify_historical_information,callback:function(e){t.simplify_historical_information=e},expression:"simplify_historical_information"}})],1),e(M.Z,{attrs:{cols:"12",sm:"10"}},[e(tt.Z,{attrs:{min:0,max:10,step:1,"thumb-color":t.color,label:"对话轮数限制","thumb-label":""},on:{change:e=>t.$emit("history_limit-changed",e)},scopedSlots:t._u([{key:"append",fn:function(){return[e(nt.Z,{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{type:"number"},on:{change:e=>t.$emit("history_limit-changed",e)},model:{value:t.history_limit,callback:function(e){t.history_limit=e},expression:"history_limit"}})]},proxy:!0}]),model:{value:t.history_limit,callback:function(e){t.history_limit=e},expression:"history_limit"}})],1)],1)],1)],1)],1)],1)},it=[],rt={name:"TabItemSetting",props:{maxLength:{type:Number,default:2048},propTemperature:{type:Number,default:.8},topP:{type:Number,default:.8},simplifyHistoricalInformation:{type:Boolean,default:!1},historyLimit:{type:Number,default:5},defaultColor:{type:String,default:"#0077F1"}},computed:{max_length:{get(){return this.maxLength},set(t){this.$emit("max_length-changed",t)}},temperature:{get(){return this.propTemperature},set(t){this.$emit("temperature-changed",t)}},top_p:{get(){return this.topP},set(t){this.$emit("top_p-changed",t)}},simplify_historical_information:{get(){return this.simplifyHistoricalInformation},set(t){this.$emit("simplify_historical_information-changed",t)}},history_limit:{get(){return this.historyLimit},set(t){this.$emit("history_limit-changed",t)}},color(){return this.defaultColor}},methods:{}},at=rt,st=(0,C.Z)(at,ot,it,!1,null,"1634ee75",null),ct=st.exports,lt={name:"App",components:{TopBar:O,TabitemChat:K,TabitemSetting:ct},extends:w.Z},_t=lt,ut=(0,C.Z)(_t,b,y,!1,null,null,null),pt=ut.exports,dt=(n(8556),n(8864));o.ZP.use(dt.Z);var ht=new dt.Z({icons:{iconfont:"mdi"}}),mt=n(7152);o.ZP.use(mt.Z);var ft=new mt.Z({locale:navigator.language,messages:{"zh-CN":n(5483),en:n(3560),ja:n(3587)}}),gt={getAppSettings(){const{_golden_tax_url:t,_autos_js_loaded:e}=window;return{_golden_tax_url:t,_autos_js_loaded:e}},copy_to_clipboard(t){navigator.permissions.query({name:"clipboard-write"}).then((e=>{"granted"===e.state||"prompt"===e.state?navigator.clipboard.writeText(t.replace(/\n+/g,"\n")).then((()=>{alert("文本已经成功复制到剪切板"),console.log("文本已经成功复制到剪切板")})).catch((t=>{console.log("copy clipboard error:",t)})):(alert("当前无操作权限。请使用最新版本Chrome浏览器，并在浏览器高级设置-页面设置中允许访问剪切板"),console.log("当前无操作权限。请使用最新版本Chrome浏览器，并在浏览器高级设置-页面设置中允许访问剪切板"))}))},md2html(t){t=String(t);const e=new(G());return e.render(t).replace(/<a /g,'<a target="_blank"')},find_RomanNumerals(t){const e={III:3,II:2,IV:4,IX:9,XL:40,XC:90,CD:400,CM:900,I:1,V:5,X:10,L:50,C:100,D:500,M:1e3};let n=0;for(var o in e)-1!==t.indexOf(o)&&(t=t.split(o).join(""),n+=e[o]);return n}},bt=n(9669),yt=n.n(bt);const wt=yt().create({baseURL:gt.getAppSettings()._golden_tax_url,headers:{"X-Requested-With":"XMLHttpRequest"}});var vt=wt;o.ZP.config.productionTip=!1,o.ZP.prototype.$util=gt,o.ZP.prototype.$request=vt,new o.ZP({vuetify:ht,i18n:ft,render:t=>t(pt)}).$mount("#app")},3560:function(t){t.exports=JSON.parse('{"common":{"appName":"CBM"},"wenda":"Wenda","history":"History","send":"Send","abord":"Abort","clear_history":"Clear History","chat":"Chat","setting":"Settings","feature_selection":"Feature Selection"}')},3587:function(t){t.exports=JSON.parse('{"history":"履歴","send":"送信","abord":"中止","clear_history":"履歴を消去","chat":"チャット","setting":"設定","feature_selection":"機能選択"}')},5483:function(t){t.exports=JSON.parse('{"common":{"appName":"CBM大模型"},"wenda":"中国软件大模型","zhishiku":"知识库","history":"对话历史","send":"发送","abord":"中断","clear_history":"清除历史","chat":"对话","setting":"设置","feature_selection":"功能选择","re_generate":"重新生成","title":"标题","content":"内容","input_question":"输入问题","save_to_disk":"保存至硬盘","memory_name":"记忆区名称","simplify_historical_information":"简化历史","upload":"上传"}')}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,function(){var t=[];__webpack_require__.O=function(e,n,o,i){if(!n){var r=1/0;for(l=0;l<t.length;l++){n=t[l][0],o=t[l][1],i=t[l][2];for(var a=!0,s=0;s<n.length;s++)(!1&i||r>=i)&&Object.keys(__webpack_require__.O).every((function(t){return __webpack_require__.O[t](n[s])}))?n.splice(s--,1):(a=!1,i<r&&(r=i));if(a){t.splice(l--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[n,o,i]}}(),function(){__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return __webpack_require__.d(e,{a:e}),e}}(),function(){__webpack_require__.d=function(t,e){for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){__webpack_require__.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};__webpack_require__.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,i,r=n[0],a=n[1],s=n[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(o in a)__webpack_require__.o(a,o)&&(__webpack_require__.m[o]=a[o]);if(s)var l=s(__webpack_require__)}for(e&&e(n);c<r.length;c++)i=r[c],__webpack_require__.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return __webpack_require__.O(l)},n=self["webpackChunkcbm_fe"]=self["webpackChunkcbm_fe"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var __webpack_exports__=__webpack_require__.O(void 0,[998],(function(){return __webpack_require__(1458)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.550e87e9.js.map